<!doctype html>
<html lang="en">
  <head>
    <title>CS4241 Assignment 2</title>
    <meta charset="utf-8">
  </head>
  <body>
    <div class="container">
      <header>
        <img src="/images/ramen2.jpg" id="ramen-pic" alt="bowl of noodles in a broth">
        <div class="img-text">
          <h1>Yume Wo Katare</h1>
          <h2>where anyone can create and achieve their dreams</h2>
        </div>
      </header>
      <main>
        <div class="navigationPane">
          <nav class="links">
            <a id="form-link" aria-label="link to order form">Place an Order</a>
            <a id="table-link" aria-label="link to order table">View Orders</a>
          </nav>
        </div>
        <div id="error">
          <i class="fa  fa-exclamation-circle"></i>
          Please complete the form.
        </div>
        <!--    ORDER FORM    -->
        <div id="order-form">
          <h3>order your ramen</h3>
          <form action="">
            <div class="form-input">
              <label for="name" class="form-label">Your name</label>
              <input type="text" id="name" required>
            </div>

            <div class="form-input text-input">
              <label for="dream" class="form-label">Share your dream with us</label>
              <textarea id="dream" required></textarea>
            </div>

            <div class="form-input" role="radiogroup" aria-label="pork-pieces">
              <p class="form-label" id="pork-label">How much pork?</p>
              <input type="radio" role="radio" checked id="3pork" name="pork" value="3">
              <label for="3pork">3 pieces</label>
              <input type="radio" role="radio" id="5pork" name="pork" value="5">
              <label for="5pork">5 pieces</label>
            </div>

            <div class="form-input" role="radiogroup" aria-label="garlic-level">
              <p class="form-label">Any garlic?</p>
              <input type="radio" role="radio" id="sansGarlic" name="garlic" value="0">
              <label for="sansGarlic">No thanks</label>
              <input type="radio" role="radio" checked id="allGarlic" name="garlic" value="1">
              <label for="allGarlic">Yes, please!</label>
            </div>
            <div id="submit-btn">
              <button>Place Order</button>
            </div>
          </form>
        </div>
        <!--    ORDER CONFIRMATION    -->
        <div id="order-confirmation">
          <h3>success!</h3>
          <img src="/images/success.png" id="success-pic" alt="cartoon dumpling with a happy facial expression">
          <button id="new-order-btn">Place Another Order</button>
        </div>
        <!--    ORDER TABLE    -->
        <div id="order-table">
          <h3>ramen orders</h3>
          <table id="orders"></table>
        </div>
        <!--    UPDATE ORDER FORM    -->
        <div id="update-order-form">
          <h3>update your order</h3>
          <form action="">
            <div class="form-input">
              <label for="updateName" class="form-label">Your name</label>
              <input type="text" id="updateName" required>
            </div>

            <div class="form-input">
              <label for="updateDream" class="form-label">Share your dream with us</label>
              <textarea id="updateDream" required></textarea>
            </div>

            <div class="form-input" role="radiogroup" aria-label="pieces-of-pork">
              <p class="form-label">How much pork?</p>
              <input type="radio" checked id="update3pork" name="updatePork" value="3">
              <label for="update3pork">3 pieces</label>
              <input type="radio" id="update5pork" name="updatePork" value="5">
              <label for="update5pork">5 pieces</label>
            </div>

            <div class="form-input" role="radiogroup" aria-label="garlic-level">
              <p class="form-label">Any garlic?</p>
              <input type="radio" role="radio" checked id="updateSansGarlic" name="updateGarlic" value="0">
              <label for="updateSansGarlic">No thanks</label>
              <input type="radio" role="radio" id="updateAllGarlic" name="updateGarlic" value="1">
              <label for="updateAllGarlic">Yes, please!</label>
            </div>
            <div id="update-form-btns">
              <button id="cancel-btn">Cancel</button>
              <button id="update-btn">Update Order</button>
            </div>
          </form>
        </div>
      </main>
    </div>    
  </body>
  
  
  <script>
    const submit = function( e ) {
      // prevent default form action from being carried out
      e.preventDefault()

      const input = document.querySelector( '#yourname' ),
            json = { yourname: input.value },
            body = JSON.stringify( json )

      fetch( '/submit', {
        method:'POST',
        body 
      })
      .then( function( response ) {
        // do something with the reponse 
        console.log( response )
      })

      return false
    }

    window.onload = function() {
      const button = document.querySelector( 'button' )
      button.onclick = submit
    }
  </script>
</html>
